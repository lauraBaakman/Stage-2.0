function [ ] = write_to_file( data, labels, ns, filename)
    %WRITE_TO_FILE Write a data set to file.
    %   INPUT
    %       DATA: The generated data
    %       LABELS: The density of the generated data    
    %       NS: Number of samples to generate.
    precision = 10;
    delimiter = ' ';
    n = size(data, 1);
    d = size(data, 2);
    
    assert(size(data, 1) == sum(ns), 'The number of patterns should be equal to sum(NS)');
    assert(size(labels, 1) == sum(ns), 'The number of densities should be equal to sum(NS)');    
    
    fileID = fopen(filename','w');
    fprintf(fileID,'%d %d\n', n, d);
    fclose(fileID);

    dlmwrite(...
        filename,...
        ns,...
        'delimiter', delimiter,...
        '-append'...
    )    
    dlmwrite(...
        filename,...
        data,...
        'delimiter', delimiter,...
        'precision',precision,...
        '-append'...
    )
    dlmwrite(...
        filename,...
        labels,...
        'delimiter', delimiter,...
        'precision',precision,...
        '-append'...
    )
end

